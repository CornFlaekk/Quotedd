<!DOCTYPE html>
<head>
    <meta-charset="UTF-8"/>
    <title>Home</title>
</head>
<body>
    <!-- Form to add new QUOTE -->
    <h3>Submit your Quote</h3>
    <form action="/quote/add" method="post">
        <label for="quoteContent">Quote: </label>
        <input type="text" id="quoteContent" name="quoteContent">
        <br>
        <label for="quoteBook">Book: </label>
        <input type="text" id="quoteBook" name="quoteBook">
        <br>
        <label for="quoteAuthor">Author: </label>
        <input type="text" id="quoteAuthor" name="quoteAuthor">
        <br>
        <input type="submit">
    </form>

    <!-- Form to add new QuoteList -->
    <h3>Create new QuoteList</h3>
    <form action="quotelists/add" method="post">
        <label for="quotelistName">Name:</label>
        <input type="text" id="quotelistName" name="quotelistName">
        <br>
        <label for="quotelistDesc">Description:</label>
        <input type="text" id="quotelistDesc" name="quotelistDesc">
        <br>
        <input type="submit">
    </form>

    <!-- Your Quotelists -->
    <!-- TODO: Este apartado estará en su propia página, para consultar tus listas -->
    <h3>Your QuoteLists</h3>
    <ol>
    {% for quotelist in quotelists %}
        <li>{{ quotelist.name }}</li>
            <ul>
                {% for quote in quotelist.quotes %}
                    <li>{{ quote.content }}</li>
                {% endfor %}
            </ul>
    {% endfor %}
    </ol>

    <!-- Show last 10 QUOTES on the DB -->
    <h3>Recently submitted Quotes</h3>
    {% for quote in last_quotes %}
        {{ quote }}
        <!-- SELECT Quotelist to add -->
        <form action="/quotelists/quotelist/add_song" method="POST">
            <input type="hidden" name="quoteSafeID" id="quoteSafeID" value={{ quote.safe_id }}>
            <select name="quotelistName" id="quotelistName" onchange="this.form.submit()">
                <option value="">-</option>
                {% for quotelist_name in quote.quotelists_names %}
                    <option value="{{ quotelist_name }}"">{{ quotelist_name }}</option>
                {% endfor %}
            </select>
        </form>
        <!-- Redirect to Quote page -->
        <form action="/quotes/quote" method="GET">
            <input type="hidden" name="quoteSafeID" id="quoteSafeID" value={{ quote.safe_id }}>
            <input type="submit" value="Open Quote page">
        </form>
           
        <br>
    {% endfor %}

</body>
